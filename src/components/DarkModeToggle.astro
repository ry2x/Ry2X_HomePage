---
import { Icon } from 'astro-icon/components';
// Dark mode toggle button
---

<button
  id="theme-toggle"
  aria-label="Toggle dark mode"
  class="rounded-full p-1.5 text-gray-500 transition-colors hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-white/10 dark:hover:text-white"
>
  <!-- Sun icon (shown in dark mode) -->
  <Icon name="octicon:sun-16" class="hidden h-5 w-5 dark:block" />
  <!-- Moon icon (shown in light mode) -->
  <Icon name="octicon:moon-16" class="h-5 w-5 dark:hidden" />
</button>

<script>
  document.addEventListener('astro:page-load', () => {
    const btn = document.getElementById('theme-toggle');

    btn?.addEventListener('click', () => {
      const isDark = document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    });
  });
</script>
